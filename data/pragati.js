const pragatiGalleryData = [
  {
    title: "Retail SBU",
    body: "The stall, themed 'Retail Transformation,' is designed to reflect HPCL's forward-thinking approach to revolutionizing the retail experience. With modern design elements and interactive displays, it showcases the latest advancements in fuel technology, loyalty programs, and digital payment solutions. The stall highlights our commitment to staying ahead of market trends and delivering seamless, technology-driven services to millions of consumers every day.",
    images: [],
  },
  {
    title: "Petrochemicals",
    body: "The stall centred on the theme 'Powering Progress with Petrochemicals' is designed to demonstrate how HPCL's innovative products will fuel progress across sectors, from polymers to solvents and industrial chemicals. The visitors could explore the wide range of HPCL's petrochemical products and their applications and experience how HPCL is 'powering progress' by providing high-quality, reliable petrochemical products that meet the evolving demands of various industries.",
    images: [],
  },
  {
    title: "Natural Gas and Renewables",
    body: "The stall, themed 'Fuelling Future,' was designed to highlight the company's commitment to clean and green energy solutions. This stall was shared between the Natural Gas and Biofuel & Renewable teams, showcasing our diverse portfolio in these sectors. LED screens showcased various projects in natural gas, biofuel, and renewable energy. The design also incorporated cutouts of renewable energy sources like windmills, solar panels, and CBG/CNG dispensing units, creating an immersive visual experience. The miniature model of the CGD Network, along with an interactive screen displayed details of key projects. An exciting feature was the launch of 'Organic Manure' with an AV explaining its benefits and future prospects. ",
    images: [],
  },
  {
    title: "Lubes and Aviation SBU",
    body: "The theme 'Sustainability and Futuristic Technology,' was designed to showcase SBU's commitment to environmentally responsible products and advanced technological solutions. The stall featured a unique and eco-friendly design made from bamboo wood, providing a visually distinct space that reflected the SBU's focus on sustainability. Displays highlighted key aspects of Lubes and Aviation SBUs, including product packs, base oils, models and international market ventures. ",
    images: [],
  },
  {
    title: "LPG",
    body: "The stall, themed 'Transition and Sustainability,' focused on showcasing the company's role in facilitating sustainable energy solutions while navigating the evolving dynamics of the LPG business. Interactive displays highlighted key products offerings, digital solutions, and notable milestones in  LPG SBU's journey like the LPG Cavern, offering visitors an immersive and informative experience.",
    images: [],
  },
  {
    title: "SOD SBU",
    body: "The SBU's stall was themed “Green Future”, suitably aligned with its sustainability and environmentally friendly initiatives. Inside the stall, many innovative displays were featured, such as a “Net Zero Terminal”, highlighting our commitment to reducing carbon footprints. For showcasing the use of cleaner energy for cooking, Ethanol Stove was displayed, and E Flex Fuel Kit was displayed for demonstrating solutions for flexible fuel usage. These displays were complemented with AV presentations, so as to provide to visitors, deeper insights  into these technologies and immersive experience about their impact on the environment.",
    images: [],
  },
];

// pragatiGalleryData.map((item) => {
//   for (let i = 1; i <= 10; i++) {
//     item.images.push({
//       img: `https://hpcl.parmarketing.agency/images/hpcl/awards/${i}.JPG`,
//     });
//   }
// });

for (let i = 1; i <= 4; i++) {
  pragatiGalleryData[0].images.push({
    img: `https://hpcl.parmarketing.agency/images/hpcl/pragati/petrochemicals/${i}.webp`,
  });
}
for (let i = 1; i <= 4; i++) {
  pragatiGalleryData[1].images.push({
    img: `https://hpcl.parmarketing.agency/images/hpcl/pragati/petrochemicals/${i}.webp`,
  });
}
for (let i = 1; i <= 9; i++) {
  pragatiGalleryData[2].images.push({
    img: `https://hpcl.parmarketing.agency/images/hpcl/pragati/natural_gas/${i}.webp`,
  });
}
for (let i = 1; i <= 10; i++) {
  pragatiGalleryData[3].images.push({
    img: `https://hpcl.parmarketing.agency/images/hpcl/pragati/lubes/${i}.webp`,
  });
}
for (let i = 1; i <= 4; i++) {
  pragatiGalleryData[4].images.push({
    img: `https://hpcl.parmarketing.agency/images/hpcl/pragati/petrochemicals/${i}.webp`,
  });
}
for (let i = 1; i <= 4; i++) {
  pragatiGalleryData[5].images.push({
    img: `https://hpcl.parmarketing.agency/images/hpcl/pragati/petrochemicals/${i}.webp`,
  });
}

function renderPragatiGallery() {
  const pragatiGalleryDiv = document.getElementById("pragati-gallery-div");
  let pragatiGalleryResult = "";

  // Loop through the gallery data and build the HTML
  pragatiGalleryData.map((item, index) => {
    pragatiGalleryResult += `
        <div class="pragati-gallery mb-5 py-4">
          <div class="pragati-gallery-left">
            <div class="owl-carousel owl-theme pragati-gallery-carousel" data-index="${index}">
              ${item.images
                .map(
                  (img) => `
                    <div class="item">
                      <img src="${img.img}" alt="Gallery Image ${index}" />
                    </div>
                  `
                )
                .join("")}
            </div>
          </div>
          <div class="pragati-gallery-right">
            <h2 class="mb-4">${item.title}</h2>
            <p class="pragati-clamp">${item.body}</p>
            <div class="text-end">
              <p class="fw-bold text-decoration-underline mt-2 pragati-gallery-readmore" data-index="${index}" style="cursor: pointer" data-bs-toggle="modal" data-bs-target="#readMore">
                Read more
              </p>
            </div>
          </div>
          <div class="pragati-gallery-bg"></div>
        </div>
      `;
  });

  // Set the generated HTML into the container
  pragatiGalleryDiv.innerHTML = pragatiGalleryResult;

  // Initialize Owl Carousel after the gallery has been rendered
  initializeOwlCarousel();
}

// Function to initialize Owl Carousel
function initializeOwlCarousel() {
  // Select all carousels
  document.querySelectorAll(".pragati-gallery-carousel").forEach((carousel) => {
    $(carousel).owlCarousel({
      loop: true, // Infinite loop
      margin: 0, // Space between items
      nav: true, // Show next/prev buttons
      items: 1, // Always show 1 image at a time
      autoplay: false, // Enable autoplay
      autoplayTimeout: 3000, // Time between transitions (3 seconds)
      autoplayHoverPause: true, // Pause autoplay on hover
      dots: false, // Show navigation dots
      responsive: {
        0: {
          items: 1, // 1 item for mobile
        },
        600: {
          items: 1, // 1 item for tablet
        },
        1000: {
          items: 1, // 1 item for desktop
        },
      },
    });
  });
}

$(document).ready(function () {
  renderPragatiGallery(); // Renders the gallery and initializes Owl Carousel
  //
  const pragatiGalleryReadmore = document.querySelectorAll(
    ".pragati-gallery-readmore"
  );
  pragatiGalleryReadmore.forEach((item) => {
    item.addEventListener("click", function () {
      const newparaIndex = this.getAttribute("data-index");
      document.getElementById("read-more-title").innerHTML =
        pragatiGalleryData[newparaIndex].title;
      document.getElementById("read-more-div").innerHTML =
        pragatiGalleryData[newparaIndex].body;
    });
  });
});
